# Contribution Guide

この文章では、XR ヘッドセット比較表に貢献する方法を示します。
皆さんの温かい助力をお待ちしています。

なお本サイトは管理者の趣味で私的な時間を使って運用されており、対応に時間がかかる場合がある点は、あらかじめご容赦いただければと思います。

## 貢献する方法

### 情報を提供する
掲載された情報に間違いや旧価格といった誤情報がある場合、または日本市場において主要なヘッドセット、世界的に注目すべきヘッドセットが載っていないなど、管理者に情報を提供したい場合、次の方法を取ることができます。

- [Issue を立てて](https://github.com/yutokun/XR-Headset-Comparison/issues/new)情報提供
- Twitter で管理者 [@yutoVR](https://twitter.com/yutoVR) に突撃

迷ったら Issues を見て、なければ言って下さい。

### データ本体を改善し、プルリクエストを作成する
データの本体は、headset.tsv です。これを sheet-parser.js が解釈し、HTML を構築しています。

サイトの見た目と異なり、行がヘッドセット、列が項目となっています。これは、編集時に差分を見やすくするための措置です。表は解釈時に転置されます。

#### 既存の情報を変更する
headset.tsv の該当セルを編集し、プルリクエストを作成して下さい。

#### 新しいヘッドセットを追加する
[create.html](https://xr-comparison.yutokun.com/create.html) にデータを入力することで、表に挿入する1行分のデータを生成できるようにしてあります。TSV の独自仕様の多くにも自動的に対応します。これを headset.tsv のそれらしい位置に挿入することで新しいヘッドセットを追加できます。

### サイトのバグを報告する
ウェブサイトに特定の環境で動かないバグがあったり、閲覧に支障をきたす問題を発見した場合、[新しい Issue](https://github.com/yutokun/XR-Headset-Comparison/issues/new) に問題を日本語、または英語で報告することができます。管理者は問題の優先順位を判断し、自ら修正するか、コミュニティの貢献を待ちます。

### サイトのバグを修正する
もし発見したバグを自ら修正できると考えた場合、ブランチを作成して修正を行い、プルリクエストを作成してください。管理者がレビューし、問題がなくなればマージします。

## headset.tsv の仕様
表現力を増すために、TSV ファイルに独自の仕様を設けてあります。必要に応じて使用して下さい。なお、これらの多くは [create.html](https://xr-comparison.yutokun.com/create.html) を使用することで自動的に使用できます。

### 画像を貼る
ヘッドセットの画像を表現するため、画像の挿入記法を作成しました。（とは言っても、ルートからのパスなだけなんですが）
次のように記述すると、該当する画像をセルに表示できます。

```
/images/headsets/Oculus%20Rift%20CV1.jpg
```

### リンクを貼る
参考リンクを作成するため、ハイパーリンクに変換される記法を作成しました。

```
link:リンク名,URL
```

上の記法を用いることで、ページ上ではハイパーリンクとして表示されます。

```
link:Oculus Rift 公式サイト,https://www.oculus.com/rift/
```

例として、上の記述は次のようなリンクに変換されます。  
[Oculus Rift 公式サイト](https://www.oculus.com/rift/)

### 税抜き価格から税込価格を計算する
消費税率の変更に対応するため、税抜き価格から税込価格を計算する記法を作成しました。
税抜き価格が明らかになっている場合は、この記法を用いて下さい。

```
¥\ct{税抜き価格}
¥\ct{89882}
```

### 改行する
`¥n` は改行コードに変換されます。

## デプロイについて
本リポジトリは Azure DevOps に接続されており、master ブランチにプッシュされたコミット差分が自動的にデプロイされる仕組みになっています。通常、master への push が完了してから5分以内にウェブサイト上で変更を確認できるようになります。

この仕組み上、本番環境での不整合を避けるため、master への force push は行えない設定としています。

